const data = [['yolov8x', 'WAFHW379', 1.2789990901947021], ['yolov8x_charen', 'HAFHH379', 1.2267022132873535], 0.17499971389770508, ['pytesseract', 'WAFSHW379', 0.17499971389770508], 
['easyocr', 'MAF', 0.17600011825561523], ['yolov8x', 'HAFHW379', 0.5850002765655518], ['yolov8x_charen', 'HAFHH379', 0.5399999618530273], 0.15799975395202637, ['pytesseract', 'HAFHW379', 0.15799975395202637], 
['easyocr', 'MF4lE7)', 0.24199986457824707], ['yolov8x', 'WAFHW379', 0.5840001106262207], ['yolov8x_charen', 'HAFHH379', 0.5839996337890625], 0.18500018119812012, ['pytesseract', 'HAFHW379', 0.18500018119812012], 
['easyocr', 'HFsHkB7)', 0.11799979209899902], ['yolov8x', 'WAFHW379', 0.6229400634765625], ['yolov8x_charen', 'MFHH379', 0.6069984436035156], 0.15593504905700684, ['pytesseract', 'WAFHW329', 0.15593504905700684], 
['easyocr', 'HF;H1B79]', 0.19900250434875488], ['yolov8x', 'HAFHW379', 0.6100003719329834], ['yolov8x_charen', 'HAFHH379', 0.6099987030029297], 0.1569991111755371, ['pytesseract', 'HAFSHW379', 0.1569991111755371], 
['easyocr', 'HFshk679]', 0.11800122261047363], ['yolov8x', 'WAFHW379', 0.5720000267028809], ['yolov8x_charen', 'MAFHH379', 0.5810000896453857], 0.16596341133117676, ['pytesseract', 'HAFSHW379', 0.16596341133117676], 
['easyocr', 'HAF2hkB379]', 0.19800090789794922], ['yolov8x', 'WAFHW379', 0.41300106048583984], ['yolov8x_charen', 'MAFHH379', 0.43200063705444336], 0.16200041770935059, ['pytesseract', '-', 0.16200041770935059], 
['easyocr', 'HHFeHH 379]', 0.13399910926818848], ['yolov8x', 'WAFHW379', 0.5019989013671875], ['yolov8x_charen', 'MAFHH379', 0.5480306148529053], 0.15400004386901855, ['pytesseract', '-', 0.15400004386901855], 
['easyocr', 'KAFehk 379', 0.12999987602233887], ['yolov8x', 'WAFHW379', 0.3509988784790039], ['yolov8x_charen', 'HAFHH379', 0.5460000038146973], 0.1939983367919922, ['pytesseract', '-', 0.1939983367919922], 
['easyocr', 'HAFzHH 3791', 0.12600016593933105], ['yolov8x', 'RAFHW379', 0.38900017738342285], ['yolov8x_charen', 'HAFHH379', 0.3229999542236328], 0.20499777793884277, ['pytesseract', 'HAFHW379', 0.20499777793884277], 
['easyocr', '#AFchk 3791', 0.12800145149230957], ['yolov8x', 'WAFHW379', 0.28600215911865234], ['yolov8x_charen', 'HAFHH379', 0.36499929428100586], 0.1979999542236328, ['pytesseract', 'HAFHW3279', 0.1979999542236328],
['easyocr', '#AFeHH 379]', 0.12799906730651855], ['yolov8x', 'WAFHW379', 0.295001745223999], ['yolov8x_charen', 'WAFHH379', 0.28100109100341797], 0.14599919319152832, ['pytesseract', 'WAFSHH379', 0.14599919319152832], 
['easyocr', 'HAFshk 379', 0.1210012435913086], ['yolov8x', 'WAFHW379', 0.42400026321411133], ['yolov8x_charen', 'MAFHH379', 0.40199899673461914], 0.17003607749938965, ['pytesseract', '-', 0.17003607749938965], 
['easyocr', 'KAF sHH 379|', 0.12996482849121094], ['yolov8x', 'HAFHW379', 0.42696237564086914], ['yolov8x_charen', 'HAFHH379', 0.32000231742858887], 0.1920623779296875, ['pytesseract', '-', 0.1920623779296875],
['easyocr', 'HHFchH 379', 0.1269359588623047], ['yolov8x', 'WAFHW379', 0.41900157928466797], ['yolov8x_charen', 'HAFHH379', 0.4139993190765381], 0.17403125762939453, ['pytesseract', 'IWAFSHW379', 0.17403125762939453],
['easyocr', 'KIFzhk 379', 0.13492608070373535], ['yolov8x', 'WAFHW379', 0.3900001049041748], ['yolov8x_charen', 'HAFHH379', 0.42200136184692383], 0.17399930953979492, ['pytesseract', 'WAFHW379', 0.17399930953979492],
['easyocr', 'KAFshH 379', 0.11500310897827148], ['yolov8x', 'WAFHW379', 0.5629994869232178], ['yolov8x_charen', 'HAFHH379', 0.4980013370513916], 0.22196078300476074, ['pytesseract', '-', 0.22196078300476074], 
['easyocr', '[AFcHH 3791', 0.169999361038208], ['yolov8x', 'HAFHW379', 0.45229053497314453], ['yolov8x_charen', 'HAFHH379', 0.5919992923736572], 0.19699954986572266, ['pytesseract', 'IWAFSHH379', 0.19699954986572266],
['easyocr', 'BAFeHH 3791', 0.14100360870361328], ['yolov8x', 'HAFHW379', 0.6060001850128174], ['yolov8x_charen', 'HAFHH379', 0.5360000133514404], 0.1709613800048828, ['pytesseract', 'IWAFSHH379', 0.1709613800048828],
['easyocr', 'BAF2Hk 379]', 0.17304301261901855], ['yolov8x', 'HAFHW379', 0.3769993782043457], ['yolov8x_charen', 'HAFHH379', 0.5209999084472656], 0.19349312782287598, ['pytesseract', '-', 0.19349312782287598], 
['easyocr', 'HAFekk 379|', 0.11599922180175781], ['yolov8x', 'HAFHW379', 0.3190028667449951], ['yolov8x_charen', 'HAFHH379', 0.39262938499450684], 0.21977901458740234, ['pytesseract', 'WAFHW379', 0.21977901458740234], 
['easyocr', 'JHAFcHH 379]', 0.11966562271118164], ['yolov8x', 'HAFHW379', 0.48458099365234375], ['yolov8x_charen', 'HAFHH379', 0.3375544548034668], 0.18103504180908203, ['pytesseract', '-', 0.18103504180908203], 
['easyocr', 'HAFskK 379]', 0.1315135955810547], ['yolov8x', 'WAFHW379', 0.3510556221008301], ['yolov8x_charen', 'HAFHH379', 0.3285369873046875], 0.1685173511505127, ['pytesseract', 'HAFHW379', 0.1685173511505127], 
['easyocr', '[AF2HH 3791', 0.1340181827545166], ['yolov8x', 'WAFHW379', 0.42104029655456543], ['yolov8x_charen', 'HAFHH379', 0.5860648155212402], 0.20603251457214355, ['pytesseract', 'HAFHH379', 0.20603251457214355], 
['easyocr', 'IMAFoHk 379]', 0.13350915908813477], ['yolov8x', 'WAFHW379', 0.5105490684509277], ['yolov8x_charen', 'MAFHH379', 0.46355557441711426], 0.1830310821533203, ['pytesseract', 'KAFOHW379', 0.1830310821533203], 
['easyocr', 'KAF 2HH 379]', 0.17902255058288574], ['yolov8x', 'AFHW379', 0.6019997596740723], ['yolov8x_charen', 'HAFHH379', 0.46900033950805664], 0.1919994354248047, ['pytesseract', 'HAF', 0.1919994354248047],
['easyocr', 'HAFsHk379,', 0.1809985637664795], ['yolov8x', 'WAFHW379', 0.4649996757507324], ['yolov8x_charen', 'MAFHH379', 0.48200011253356934], 0.14400053024291992, ['pytesseract', '-', 0.14400053024291992], 
['easyocr', 'IBAF cHk 379|', 0.12299966812133789], ['yolov8x', 'WAFHW379', 0.4309999942779541], ['yolov8x_charen', 'MAFHH379', 0.4519996643066406], 0.1490023136138916, ['pytesseract', '-', 0.1490023136138916], 
['easyocr', 'JaFsHH 379|', 0.13499927520751953], ['yolov8x', 'RAFHW379', 0.5590019226074219], ['yolov8x_charen', 'HAFHH379U', 0.5529994964599609], 0.17400169372558594, ['pytesseract', '-', 0.17400169372558594], 
['easyocr', 'JF;kh 379|', 0.1399979591369629], ['yolov8x', '', 0.5560004711151123], ['yolov8x_charen', '', 0.5239999294281006], 0.18999862670898438, ['pytesseract', '-', 0.18999862670898438], 
['easyocr', 'ha', 0.38100123405456543], ['yolov8x', '', 0.6519978046417236], ['yolov8x_charen', '', 0.8463952541351318], 0.16699910163879395, ['pytesseract', '-', 0.16699910163879395], 
['easyocr', '', 0.27300024032592773], ['yolov8x', '', 0.4869999885559082], ['yolov8x_charen', 'E', 0.509000301361084], 0.14500188827514648, ['pytesseract', '-', 0.14500188827514648], 
['easyocr', '', 0.2649998664855957], ['yolov8x', '4', 0.5220000743865967], ['yolov8x_charen', '', 0.5129990577697754], 0.16500115394592285, ['pytesseract', '-', 0.16500115394592285], 
['easyocr', '[7J2', 0.2820003032684326], ['yolov8x', '3NC352A', 0.5300004482269287], ['yolov8x_charen', '335', 0.46903419494628906], 0.15200185775756836, ['pytesseract', 'SEM35534', 0.15200185775756836], 
['easyocr', '84)3525', 0.3579990863800049], ['yolov8x', 'GN3353A', 0.48800063133239746], ['yolov8x_charen', '433234', 0.5570008754730225], 0.16819500923156738, ['pytesseract', 'WGM33534', 0.16819500923156738], 
['easyocr', 'HcX JJ534', 0.2110004425048828], ['yolov8x', 'WGM3353A', 0.5600306987762451], ['yolov8x_charen', 'MCM33234', 0.5269393920898438], 0.178999662399292, ['pytesseract', 'IWGM3353A', 0.178999662399292], 
['easyocr', 'IGH 3353A', 0.3040008544921875], ['yolov8x', 'WGM3353A', 0.6020009517669678], ['yolov8x_charen', 'MCM3353A', 0.6289975643157959], 0.17392492294311523, ['pytesseract', '-', 0.17392492294311523], 
['easyocr', 'NGM 3353A', 0.18400096893310547], ['yolov8x', 'WGM3353A', 0.5440011024475098], ['yolov8x_charen', 'MCM3353A', 0.6580002307891846], 0.17800092697143555, ['pytesseract', 'HGM33534', 0.17800092697143555], 
['easyocr', '06H 3353A', 0.12900042533874512], ['yolov8x', '3353A', 0.8759987354278564], ['yolov8x_charen', '33534', 0.7830009460449219], 0.16204047203063965, ['pytesseract', '-', 0.16204047203063965], 
['easyocr', '33534', 0.12196135520935059], ['yolov8x', '5T', 0.5019609928131104], ['yolov8x_charen', '', 0.48699951171875], 0.1510004997253418, ['pytesseract', '-', 0.1510004997253418], 
['easyocr', 'E2 EuN', 0.2859988212585449], ['yolov8x', 'S0CT114', 0.4740002155303955], ['yolov8x_charen', '0CT', 0.43200039863586426], 0.15799999237060547, ['pytesseract', '-', 0.15799999237060547], 
['easyocr', 'SoDL', 0.3620021343231201], ['yolov8x', 'SOCT114', 0.4529688358306885], ['yolov8x_charen', '2OCT4', 0.508965253829956], 0.1869978904724121, ['pytesseract', '-', 0.1869978904724121], 
['easyocr', 'SOTTT', 0.23600077629089355], ['yolov8x', 'SOCT114', 0.4589667320251465], ['yolov8x_charen', '2OCT114', 0.4370002746582031], 0.17799878120422363, ['pytesseract', 'BSOCT114', 0.17799878120422363], 
['easyocr', '5O CTIIG', 0.3749997615814209], ['yolov8x', '8EC', 0.5560014247894287], ['yolov8x_charen', '', 0.792996883392334], 0.1660001277923584, ['pytesseract', 'ES', 0.1660001277923584], 
['easyocr', '', 0.08199906349182129], ['yolov8x', '0EC', 0.7310643196105957], ['yolov8x_charen', '09', 0.7849352359771729], 0.16199874877929688, ['pytesseract', 'EC', 0.16199874877929688], 
['easyocr', 'I@ec@', 0.15200138092041016], ['yolov8x', 'SOCT114', 0.45496416091918945], ['yolov8x_charen', '2OCT114', 0.4660000801086426], 0.15799808502197266, ['pytesseract', 'WSO3CT114', 0.15799808502197266], 
['easyocr', 'S0', 0.32199978828430176], ['yolov8x', 'SOCT114', 0.5620009899139404], ['yolov8x_charen', 'SOCT114', 0.53999924659729], 0.15899944305419922, ['pytesseract', 'WS05CT114', 0.15899944305419922], 
['easyocr', '5OCTIq]', 0.22899985313415527], ['yolov8x', '0EC', 0.7319996356964111], ['yolov8x_charen', '08', 0.556999921798706], 0.14999985694885254, ['pytesseract', '-', 0.14999985694885254], 
['easyocr', 'IUGC@', 0.1900005340576172], ['yolov8x', 'SOCT114', 0.4777042865753174], ['yolov8x_charen', 'S0CT114', 0.44464635848999023], 0.15001559257507324, ['pytesseract', 'RSOCT114', 0.15001559257507324], 
['easyocr', 'SOsCTI1q', 0.18701982498168945], ['yolov8x', '0EC', 0.8446009159088135], ['yolov8x_charen', '08', 0.7941970825195312], 0.17246675491333008, ['pytesseract', 'Z', 0.17246675491333008], 
['easyocr', 'IVGG@', 0.1890239715576172], ['yolov8x', 'SOCT114', 0.29500460624694824], ['yolov8x_charen', 'S0CT114', 0.6766233444213867], 0.28354406356811523, ['pytesseract', 'WS0CT114', 0.28354406356811523], 
['easyocr', 'SO2C7114', 0.2925429344177246], ['yolov8x', '0C', 0.7771220207214355], ['yolov8x_charen', '08', 0.5696282386779785], 0.20803380012512207, ['pytesseract', 'WE', 0.20803380012512207], 
['easyocr', 'IUGGo', 0.2060387134552002], ['yolov8x', 'SOCT114', 0.526512622833252], ['yolov8x_charen', 'S0CT114', 0.4460000991821289], 0.1810011863708496, ['pytesseract', 'WSOCT114', 0.1810011863708496], 
['easyocr', 'SOeCi114', 0.13400006294250488], ['yolov8x', '0EC', 0.7770001888275146], ['yolov8x_charen', '09', 0.8110001087188721], 0.16500091552734375, ['pytesseract', '-', 0.16500091552734375], 
['easyocr', 'JUEG@', 0.21221685409545898], ['yolov8x', 'SOCT114', 0.46899986267089844], ['yolov8x_charen', 'S0CT114', 0.48600101470947266], 0.17100024223327637, ['pytesseract', 'SOCT114', 0.17100024223327637], 
['easyocr', 'SOcCI1G', 0.14699935913085938], ['yolov8x', 'EC', 0.6360001564025879], ['yolov8x_charen', '9', 0.6349976062774658], 0.18400073051452637, ['pytesseract', '-', 0.18400073051452637], 
['easyocr', 'IVGG@', 0.17400097846984863], ['yolov8x', '', 0.5119993686676025], ['yolov8x_charen', '', 0.49500131607055664], 0.15000033378601074, ['pytesseract', '-', 0.15000033378601074], 
['easyocr', '', 0.09399890899658203], ['yolov8x', 'SOCT114', 0.41100049018859863], ['yolov8x_charen', 'S0CT114', 0.41299867630004883], 0.1660001277923584, ['pytesseract', 'WS0CT114', 0.1660001277923584], 
['easyocr', '5O2C7114', 0.1379997730255127], ['yolov8x', 'C', 0.6210002899169922], ['yolov8x_charen', '8', 0.8140361309051514], 0.17499923706054688, ['pytesseract', '-', 0.17499923706054688], 
['easyocr', 'VGG@', 0.22300267219543457], ['yolov8x', '', 0.6550014019012451], ['yolov8x_charen', '', 0.6739990711212158], 0.1550004482269287, ['pytesseract', '-', 0.1550004482269287], 
['easyocr', '', 0.09599971771240234], ['yolov8x', 'SOCT114', 0.500999927520752], ['yolov8x_charen', 'S0CT114', 0.4389986991882324], 0.17399978637695312, ['pytesseract', 'RS0CT114', 0.17399978637695312], 
['easyocr', 'SOcCT114', 0.14300203323364258], ['yolov8x', '0C', 0.7159361839294434], ['yolov8x_charen', '08', 0.6229989528656006], 0.1999349594116211, ['pytesseract', '-', 0.1999349594116211], 
['easyocr', 'IUGG@', 0.24100160598754883], ['yolov8x', '', 0.632000207901001], ['yolov8x_charen', '', 0.5919914245605469], 0.15899896621704102, ['pytesseract', '-', 0.15899896621704102], 
['easyocr', '', 0.09100031852722168], ['yolov8x', 'SOCT114', 0.3599686622619629], ['yolov8x_charen', 'S0CT114', 0.3020007610321045], 0.16399860382080078, ['pytesseract', 'MS02CT114', 0.16399860382080078], 
['easyocr', 'SOeCT14', 0.10900163650512695], ['yolov8x', 'C', 0.7099995613098145], ['yolov8x_charen', '08', 0.7490010261535645], 0.1679997444152832, ['pytesseract', '-', 0.1679997444152832], 
['easyocr', 'IVGG@', 0.17200350761413574], ['yolov8x', '', 0.4159994125366211], ['yolov8x_charen', '', 0.5319998264312744], 0.17999839782714844, ['pytesseract', '-', 0.17999839782714844], 
['easyocr', '', 0.1300034523010254], ['yolov8x', 'SOCT114', 0.4924335479736328], ['yolov8x_charen', 'S0CT114', 0.5830001831054688], 0.17199969291687012, ['pytesseract', 'RS0CT114', 0.17199969291687012], 
['easyocr', 'SO;Ci114', 0.20200061798095703], ['yolov8x', 'EC', 0.8100008964538574], ['yolov8x_charen', '08', 0.8759987354278564], 0.17600011825561523, ['pytesseract', '-', 0.17600011825561523], 
['easyocr', 'GvGco', 0.23600006103515625], ['yolov8x', '', 0.6080005168914795], ['yolov8x_charen', '', 0.6699988842010498], 0.15800046920776367, ['pytesseract', '-', 0.15800046920776367], 
['easyocr', '', 0.178999662399292], ['yolov8x', 'SOCT114', 0.5740001201629639], ['yolov8x_charen', 'SOCT114', 0.5340001583099365], 0.14500069618225098, ['pytesseract', '-', 0.14500069618225098], 
['easyocr', '50 C7114', 0.21399950981140137], ['yolov8x', '0EC', 0.6300003528594971], ['yolov8x_charen', '05', 0.5560002326965332], 0.18300080299377441, ['pytesseract', '-', 0.18300080299377441], 
['easyocr', 'JyEcg', 0.15800023078918457], ['yolov8x', '', 0.6439993381500244], ['yolov8x_charen', '', 0.6760005950927734], 0.17100000381469727, ['pytesseract', '-', 0.17100000381469727], 
['easyocr', '', 0.10700011253356934]]

// The Levenshtein distance from "https://sumn2u.medium.com/string-similarity-comparision-in-js-with-examples-4bae35f13968"
const distance = (a, b) => {
            if(a.length === 0) return b.length; 
            if(b.length === 0) return a.length; 

            var matrix = [];

            // increment along the first column of each row
            var i;
            for(i = 0; i <= b.length; i++){
                matrix[i] = [i];
            }

            // increment each column in the first row
            var j;
            for(j = 0; j <= a.length; j++){
                matrix[0][j] = j;
            }

            // Fill in the rest of the matrix
            for(i = 1; i <= b.length; i++){
                for(j = 1; j <= a.length; j++){
                  if(b.charAt(i-1) === a.charAt(j-1)){
                      matrix[i][j] = matrix[i-1][j-1];
                  } else {
                      matrix[i][j] = Math.min(matrix[i-1][j-1] + 1, // substitution
                                              Math.min(matrix[i][j-1] + 1, // insertion
                                                      matrix[i-1][j] + 1)); // deletion
                  }
                }
            }

        return matrix[b.length][a.length];
};

const output = {};
const characters = ['WAFHW379', 'WGM3353A', 'SOCT114']

min_len = 4 // Minimum length to accept a string
min_dist = 1 // Difference by upto min_dist characters

for(let d of data){
  if(d[1] && d[1].length<min_len) continue;
  if(!d[0]) continue;
  if(!output[d[0]]){
    output[d[0]] = {data: [d[1]], speed_sum: d[2], speed_count: 1, correct: characters.filter(char=>distance(char,d[1])<=min_dist).length>0?1:0}
  } else {
    output[d[0]] = {...output[d[0]], data: [...output[d[0]].data, d[1]], speed_sum: output[d[0]].speed_sum + d[2], speed_count: output[d[0]].speed_count + 1, correct: output[d[0]].correct + (characters.filter(char=>distance(char,d[1])<=min_dist).length>0?1:0)}
  }
}

for(let key in output){
  output[key].average_speed = output[key].speed_sum / output[key].speed_count
  output[key].accuracy = output[key].correct / output[key].speed_count
}

console.log(output)
